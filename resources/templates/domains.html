{% extends "base.html" %}
{% block content %}
<div class="container text-centered">

  <div class="row">
    <div class="jumbotron col-md-12">
      <h1>Domains</h1>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-12">
      <table class="table table-striped table-bordered" data-toggle="table">
        <thead>
          <tr><th data-field="domain" data-sortable="true">Domain</th><th data-field="records" data-sortable="true">Record Count</th><th>Records</th></tr>
        </thead>
        <tbody>
            {% for item in domains %}
            <tr>
              <td>{{item.name}}</td>
              <td>{{item.count}}</td>
              <td><a href="{{servlet-context}}/records?id={{item.id}}">-></a></td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
  </div>


  <div class="row">
    <div class="col-md-12">
      <a class="pull-right" href="{{servlet-context}}/domains?csv=t">Download</a>
    </div>
  </div>
  
  <div  style="padding-top: 20px;">
    <!-- todo: fix sortable table which removed the required padding -->
  </div>
      
  <div class="row">
    <div class="col-md-12">
        <form method="POST" action="/domains">
                {% csrf-field %}
                <p>
                    <input class="form-control"
                           type="text"
                           name="name"
                           value="{{name}}" />
                </p>
                {% if errors.name %}
                <div class="alert alert-danger">{{errors.name|join}}</div>
                {% endif %}
                {% if errors.message %}
                <div class="alert alert-danger">{{errors.message|join}}</div>
                {% endif %}
                {% if message %}
                <div class="alert alert-danger">{{message}}</div>
                {% endif %}
                <input type="submit" class="btn btn-primary" value="Add Domain" />
        </form>
    </div>
  </div>



</div>
  
{% endblock %}
